<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Python through Google Colab</title>
  <link href="../lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* General styling */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* Header styling */
    #header-placeholder {
      width: 100%;
      position: fixed;  /* Keeps header fixed at the top */
      top: 0;
      left: 0;
      z-index: 1000;
      background-color: #fff;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1); /* Optional shadow for visual separation */
    }

    /* Main container for sidebar and content */
    #main-container {
      display: flex;
      flex: 1;
      width: 100%;
      margin-top: 60px;  /* Add margin to prevent content from being hidden under the fixed header */
    }
    
    /* Sidebar styling */
    #sidebar-placeholder {
      width: 20%;
      min-width: 250px;
      position: fixed;  /* Keeps sidebar fixed on the left */
      top: 60px;  /* Aligns it right below the header */
      bottom: 0;
      overflow-y: auto;  /* Allows scrolling within the sidebar */
      background-color: #f4f4f4;
      box-shadow: 1px 0 5px rgba(0, 0, 0, 0.1);
      padding: 15px;
      z-index: 999;
    }

    #sidebar h2 {
      font-size: 1.2em;
      color: #0c2e8a;
      margin-bottom: 15px;
    }

    #sidebar ul {
      list-style-type: none;
      padding: 0;
    }

    .category {
      font-weight: bold;
      cursor: pointer;
      color: #0c2e8a;
      padding-left: 5px;
      margin-bottom: 5px;
    }

    .category ul {
      display: none;
      margin-top: 5px;
      padding-left: 15px;
    }

    .category ul li {
      margin: 3px 0;
      font-size: 0.85em;
      color: #555;
      font-weight: normal;
    }

    .category ul li a {
      color: #555;
      text-decoration: none;
      display: inline-block;
      max-width: 90%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .category ul li a:hover {
      text-decoration: underline;
    }

    /* Content styling */
    #main-content {
      padding: 80px 20px 20px; /* Top padding to account for the fixed header height */
      width: 80%;
      margin-left: 20%;  /* Prevents content from overlapping with the fixed sidebar */
      box-sizing: border-box;
    }

    h1, h2 {
      color: #0c2e8a;
    }

    .header-image {
      display: block;
      margin: 0 auto;
      width: 50%;
      height: auto;
      max-width: 600px;
      margin-bottom: 20px;
      text-align: center;
    }

    pre, code {
      background-color: #f8f9fa;
      padding: 10px;
      border-radius: 5px;
      overflow-x: auto;
      line-height: 1.8; /* Adjusts line spacing for better readability */
      font-size: 1em; /* Ensures the font size is appropriate for readability */
    }
  </style>
</head>

<body>
  <!-- Header Placeholder -->
  <div id="header-placeholder"></div>

  <!-- Main container for sidebar and content -->
  <div id="main-container">
    <!-- Sidebar Placeholder -->
    <div id="sidebar-placeholder"></div>

  <!-- Main Content Area -->
  <main id="main-content">
    <h1>Python through Google Colab</h1>

      <!-- Header Image -->
      <img src="../img/python-with-colab.png" alt="Companies Act 2063 Banner" class="header-image">

    <section>
      <h2>Introduction to Google Colab</h2>
      <p>Google Colab, or Colaboratory, is a free, cloud-based Jupyter notebook environment provided by Google. It allows us to write and execute Python code directly in a browser without needing any local installations. Colab is particularly beneficial for users who want to perform data analysis, machine learning, and finance-related coding projects without setting up a local environment.</p>
    </section>

    <section>
      <h2>Why Use Google Colab?</h2>
      <ul>
        <li><strong>Free Access:</strong> Google Colab is free to use and provides access to powerful hardware, including GPUs and TPUs.</li>
        <li><strong>No Installation Required:</strong> You don’t need to install Python or any libraries locally. Everything runs in the cloud.</li>
        <li><strong>Collaborative:</strong> You can share Colab notebooks with others, allowing for collaborative projects and easy sharing of code.</li>
        <li><strong>Integration with Google Drive:</strong> Colab can connect to Google Drive, making it easy to save data and access files stored there.</li>
      </ul>
      <p>One limitation to note is that Google Colab provides a temporary environment. Each time you start a new session, you need to reinstall any modules or libraries that aren’t pre-installed. We’ll use Google Colab for all future Python projects in finance for its flexibility and ease of access.</p>
    </section>

    <section>
      <h2>Getting Started with Google Colab</h2>
      <h3>1. Installing Libraries</h3>
      <p>In Google Colab, you can install libraries with <code>pip</code> commands as you would locally. However, as mentioned, the environment resets when the session is closed. Here’s how you install a library:</p>
      <div class="code-box">
        <pre><code>!pip install pandas numpy matplotlib</code></pre>
      </div>
      <p>This command installs Pandas, NumPy, and Matplotlib, which are commonly used libraries in finance.</p>

      <h3>2. Saving and Accessing Data</h3>
      <p>Google Colab allows you to save files directly to Google Drive. You can also upload files manually or save outputs locally. Here’s how to connect Google Colab to Google Drive:</p>
      <div class="code-box">
        <pre><code>from google.colab import drive
drive.mount('/content/drive')</code></pre>
      </div>
      <p>After running this code, you’ll be prompted to grant access. Your Google Drive will then be available in the <code>/content/drive</code> directory, allowing you to save files directly to Drive.</p>

      <h3>3. Inputting Secret Keys</h3>
      <p>For finance-related projects, you may need to use secret keys or API keys to access financial data from third-party sources. Google Colab provides a secure way to handle these keys:</p>
      <div class="code-box">
        <pre><code># Example of securely storing an API key in a variable
api_key = "YOUR_SECRET_API_KEY"</code></pre>
      </div>
      <p>Alternatively, you can use Colab’s “Secrets” feature through Google Cloud or store the keys in a text file in Google Drive, read them directly in Colab, and delete the file afterward for added security.</p>

      <h3>4. Data Analysis Example</h3>
      <p>Here’s an example of using Pandas to analyze financial data in Google Colab. This code assumes you have a CSV file with stock price data saved in Google Drive:</p>
      <div class="code-box">
        <pre><code>import pandas as pd

# Load data from Google Drive
file_path = '/content/drive/My Drive/finance_data.csv'
data = pd.read_csv(file_path)

# Display the first few rows
print(data.head())</code></pre>
      </div>
      <p>This code snippet loads a CSV file from Google Drive and displays the first few rows, making it easy to inspect the data.</p>

      <h3>5. Visualizing Data with Matplotlib</h3>
      <p>Google Colab supports data visualization, making it easy to plot graphs and analyze trends. Here’s an example:</p>
      <div class="code-box">
        <pre><code>import matplotlib.pyplot as plt

# Plot stock prices
plt.plot(data['Date'], data['Close'])
plt.xlabel('Date')
plt.ylabel('Stock Price')
plt.title('Stock Price Over Time')
plt.show()</code></pre>
      </div>
      <p>This code creates a line chart of stock prices over time, a common visualization in financial analysis.</p>

      <h3>6. Using GPUs and TPUs (Optional)</h3>
      <p>Google Colab allows you to use GPUs and TPUs for more computationally intensive tasks. To enable GPU or TPU, go to <strong>Runtime &gt; Change runtime type</strong> and select the desired hardware accelerator.</p>
    </section>

    <section>
      <h2>Conclusion</h2>
      <p>Google Colab is an incredibly powerful and flexible environment for running Python code, especially for finance projects that require quick data analysis and visualization without the hassle of local installation. We’ll use Google Colab for all future Python-related projects in finance, taking advantage of its simplicity and cloud-based power.</p>
      <p>In upcoming posts, we’ll dive deeper into specific financial analyses, from portfolio optimization to risk management, all through Google Colab.</p>
    </section>

    </main>
  </div>

  <!-- Footer Placeholder -->
  <div id="footer-placeholder"></div>

  <!-- JavaScript to Load Header, Footer, and Dynamic Sidebar -->
  <script src="../knowledgehub/topics_array.js"></script> <!-- Topics data -->
  <!-- jQuery and Bootstrap JS -->
  <script src="../lib/jquery/jquery.min.js"></script>
  <script src="../lib/bootstrap/js/bootstrap.bundle.min.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Load header and footer dynamically
      fetch("../header.html")
        .then(response => response.text())
        .then(data => {
          document.getElementById("header-placeholder").innerHTML = data;
        })
        .catch(error => console.error("Error loading header:", error));

      fetch("../footer.html")
        .then(response => response.text())
        .then(data => {
          document.getElementById("footer-placeholder").innerHTML = data;
        })
        .catch(error => console.error("Error loading footer:", error));

      // Populate sidebar categories and topics
      const sidebarContainer = document.getElementById("sidebar-placeholder");

      // Insert sidebar HTML structure
      sidebarContainer.innerHTML = `
        <aside id="sidebar">
          <h2>Categories</h2>
          <ul id="category-list"></ul>
        </aside>
      `;

      const uniqueCategories = {};
      topics.forEach(topic => {
        if (!uniqueCategories[topic.category]) {
          uniqueCategories[topic.category] = [];
        }
        uniqueCategories[topic.category].push(topic);
      });

      const categoryList = document.getElementById("category-list");
      Object.keys(uniqueCategories).forEach(category => {
        const categoryItem = document.createElement("li");
        categoryItem.classList.add("category");
        categoryItem.textContent = category;

        const subList = document.createElement("ul");
        uniqueCategories[category].forEach((topic, index) => {
          const topicItem = document.createElement("li");

          // Truncate title and add numbering
          const maxTitleLength = 40;
          const truncatedTitle = topic.title.length > maxTitleLength
            ? topic.title.slice(0, maxTitleLength) + "..."
            : topic.title;

          topicItem.innerHTML = `<a href="../knowledgehub/${topic.file}">${index + 1}. ${truncatedTitle}</a>`;
          subList.appendChild(topicItem);
        });

        // Add toggle function to display topics
        categoryItem.appendChild(subList);
        categoryItem.addEventListener("click", function () {
          subList.style.display = subList.style.display === "none" ? "block" : "none";
        });

        subList.style.display = "none"; // Initially hide topics
        categoryList.appendChild(categoryItem);
      });
    });
  </script>
</body>
</html>
